<p id="notice"><%= notice %></p>

<h1><%= t("layout.task.index_title") %></h1>

<%= form_with(model: Task.new, method: :get, url: tasks_path) do |f| %>
  <%= f.label :title_search, t("layout.title_search") %>
  <%= f.text_field :title, class: 'form-control' %>

  <div class='actions'><%= f.submit t("layout.views.search") %></div>
<% end %>

<table>
  <thead>
  <tr>
    <th><%= t("layout.task.title") %></th>
    <th><%= t("layout.task.content") %></th>
    <th><%= t("layout.task.expired_at") %></th>
  </tr>
  </thead>

  <tbody>
  <% @tasks.each do |task| %>
    <tr>
      <td><%= task.title %></td>
      <td><%= task.content %></td>
      <td><%= task.expired_at %></td>
      <td><%= task.status %></td>
      <td><%= link_to t("layout.views.show"), task %></td>
      <td><%= link_to t("layout.views.edit"), edit_task_path(task) %></td>
      <td>
        <%= link_to t("layout.views.destroy"), task, method: :delete,
        data: { confirm: t("layout.views.confirm_destroy") } %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<br>

<%= link_to t("layout.task.new"), new_task_path %>
<%= link_to t("layout.task.sort_expired"), tasks_path(sort_expired: true) %>
